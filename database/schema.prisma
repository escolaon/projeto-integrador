generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./database.db"
}

model Usuario {
  id         Int        @id @default(autoincrement())
  nome       String
  email      String     @unique
  senha      String
  celular    String
  tipo       String
  turmas     Turma[]    
  ocorrencias Ocorrencia[] 
}


model Turma {
  id          Int          @id @default(autoincrement())
  nome        String
  alunos      Aluno[]
  professores Usuario[]   
  disciplinas Disciplina[]
  ocorrencias Ocorrencia[]
}

model Aluno {
  id                 Int          @id @default(autoincrement())
  nome               String
  email              String
  endereco           String
  nomeResponsavel    String
  celular            String
  celularResponsavel String
  turma              Turma        @relation(fields: [turmaId], references: [id])
  turmaId            Int
  ocorrencias        Ocorrencia[]
}

model Disciplina {
  id          Int          @id @default(autoincrement())
  nome        String
  turmas      Turma[]
  ocorrencias Ocorrencia[]
}

model Ocorrencia {
  id              Int        @id @default(autoincrement())
  turma           Turma      @relation(fields: [turmaId], references: [id])
  turmaId         Int
  turmaNome       String
  aluno           Aluno      @relation(fields: [alunoId], references: [id])
  alunoId         Int
  alunoNome       String
  professor       Usuario    @relation(fields: [professorId], references: [id])
  professorId     Int
  professorNome   String
  disciplina      Disciplina @relation(fields: [disciplinaId], references: [id])
  disciplinaId    Int
  disciplinaNome  String
}

